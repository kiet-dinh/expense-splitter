---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - gsd-module-test/package.json
  - gsd-module-test/tsconfig.json
  - gsd-module-test/tsconfig.app.json
  - gsd-module-test/tsconfig.node.json
  - gsd-module-test/vite.config.ts
  - gsd-module-test/vitest.config.ts
  - gsd-module-test/src/main.tsx
  - gsd-module-test/src/App.tsx
  - gsd-module-test/src/index.css
  - gsd-module-test/index.html
autonomous: true

must_haves:
  truths:
    - "The project builds without errors using `npm run build`"
    - "The dev server starts and serves a page at localhost"
    - "Tailwind utility classes are applied and visible in the rendered page"
    - "Vitest runs with `npx vitest run` and exits cleanly (even with zero tests)"
    - "Zustand is installed and importable without TypeScript errors"
  artifacts:
    - path: "gsd-module-test/package.json"
      provides: "Project manifest with all dependencies"
      contains: "react"
    - path: "gsd-module-test/vite.config.ts"
      provides: "Vite configuration with React and Tailwind plugins"
      contains: "tailwindcss"
    - path: "gsd-module-test/src/index.css"
      provides: "CSS entry with Tailwind import"
      contains: "@import \"tailwindcss\""
    - path: "gsd-module-test/src/App.tsx"
      provides: "Root React component"
  key_links:
    - from: "gsd-module-test/vite.config.ts"
      to: "@tailwindcss/vite"
      via: "Vite plugin registration"
      pattern: "tailwindcss\\(\\)"
    - from: "gsd-module-test/src/index.css"
      to: "tailwindcss"
      via: "CSS import directive"
      pattern: "@import.*tailwindcss"
---

<objective>
Scaffold the full project stack: Vite 7 + React 19 + TypeScript 5 + Zustand 5 + Tailwind v4 + Vitest 4.

Purpose: Establish a working development environment so the calculation engine (Plan 01-02) can be built and tested immediately.
Output: A buildable, runnable project with all dependencies installed and configured.
</objective>

<execution_context>
@C:/Users/Kiet Dinh/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Kiet Dinh/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Vite + React + TypeScript project and install all dependencies</name>
  <files>
    gsd-module-test/package.json
    gsd-module-test/tsconfig.json
    gsd-module-test/tsconfig.app.json
    gsd-module-test/tsconfig.node.json
    gsd-module-test/vite.config.ts
    gsd-module-test/src/main.tsx
    gsd-module-test/src/App.tsx
    gsd-module-test/index.html
  </files>
  <action>
    1. Clear the gsd-module-test directory of any existing non-git files (keep .git if present), then scaffold using Vite's react-ts template:
       ```bash
       cd gsd-module-test
       npm create vite@latest . -- --template react-ts
       npm install
       ```
       This installs React 19, TypeScript 5, and Vite 7 (latest versions per npm).

    2. Install additional stack dependencies:
       ```bash
       npm install zustand
       npm install tailwindcss @tailwindcss/vite
       npm install -D vitest
       ```

    3. Configure Vite with React and Tailwind v4 plugins in `vite.config.ts`:
       ```typescript
       import { defineConfig } from 'vite'
       import react from '@vitejs/plugin-react'
       import tailwindcss from '@tailwindcss/vite'

       export default defineConfig({
         plugins: [
           react(),
           tailwindcss(),
         ],
       })
       ```

    4. Add a `vitest.config.ts` for test configuration:
       ```typescript
       import { defineConfig } from 'vitest/config'

       export default defineConfig({
         test: {
           environment: 'node',
         },
       })
       ```

    5. Add a `"test"` script to package.json:
       ```json
       "scripts": {
         "test": "vitest run"
       }
       ```

    IMPORTANT:
    - Do NOT create `tailwind.config.js` or `postcss.config.js` â€” Tailwind v4 uses the Vite plugin instead.
    - Use `npm create vite@latest .` (dot = scaffold in current directory) since gsd-module-test already exists.
    - Vite 7 (not 6) per research findings. Prior decision said "Vite 6" but npm current is 7.x and research confirmed this update.
  </action>
  <verify>
    Run from gsd-module-test directory:
    ```bash
    npm run build    # Must exit 0 with no errors
    npx vitest run   # Must exit 0 (no tests yet, but runner works)
    ```
  </verify>
  <done>
    - `npm run build` succeeds with exit code 0
    - `npx vitest run` executes and exits cleanly
    - package.json contains react, zustand, tailwindcss, vitest as dependencies
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure Tailwind v4 CSS entry and verify styling works</name>
  <files>
    gsd-module-test/src/index.css
    gsd-module-test/src/App.tsx
  </files>
  <action>
    1. Replace the contents of `src/index.css` with the Tailwind v4 import directive:
       ```css
       @import "tailwindcss";
       ```
       Do NOT use the old v3 directives (`@tailwind base; @tailwind components; @tailwind utilities`).

    2. Update `src/App.tsx` to a minimal component that uses Tailwind classes to prove styling works:
       ```tsx
       function App() {
         return (
           <div className="min-h-screen bg-gray-50 flex items-center justify-center">
             <div className="text-center">
               <h1 className="text-3xl font-bold text-gray-900">Expense Splitter</h1>
               <p className="mt-2 text-gray-600">Split bills fairly among friends</p>
             </div>
           </div>
         )
       }

       export default App
       ```

    3. Remove any Vite boilerplate CSS files (e.g., `src/App.css`) that were scaffolded. Remove the import of `App.css` from App.tsx if present.

    4. Ensure `src/main.tsx` imports `./index.css` (Vite scaffold does this by default, but verify).

    5. Verify the build still passes:
       ```bash
       npm run build
       ```
  </action>
  <verify>
    ```bash
    cd gsd-module-test && npm run build
    ```
    Build output should include CSS with Tailwind utility classes (non-trivial CSS file size in dist/).
  </verify>
  <done>
    - `npm run build` succeeds
    - `src/index.css` contains only `@import "tailwindcss"` (no old v3 directives)
    - `src/App.tsx` renders with Tailwind utility classes
    - No `tailwind.config.js` or `postcss.config.js` exists in the project
    - No `App.css` boilerplate remains
  </done>
</task>

</tasks>

<verification>
From gsd-module-test directory:
1. `npm run build` exits 0
2. `npx vitest run` exits 0
3. `npm run dev` starts without errors (Ctrl+C to stop)
4. `grep "zustand" package.json` finds zustand in dependencies
5. `grep "tailwindcss" package.json` finds tailwindcss in dependencies
6. `grep "vitest" package.json` finds vitest in devDependencies
7. No `tailwind.config.js` or `postcss.config.js` exists
</verification>

<success_criteria>
- The project builds (`npm run build`) and the dev server starts (`npm run dev`)
- Vitest runs cleanly (`npx vitest run`)
- All stack dependencies installed: React 19, TypeScript 5, Vite 7, Zustand 5, Tailwind v4, Vitest 4
- Tailwind v4 configured via Vite plugin (no PostCSS config)
- App.tsx renders with Tailwind utility classes
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
